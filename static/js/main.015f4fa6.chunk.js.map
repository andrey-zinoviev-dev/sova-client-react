{"version":3,"sources":["images/sova_logo_icon.png","components/PopupWithForm.js","components/Welcome.js","components/Dashboard.js","components/Main.js","api.js","context/userContext.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","__webpack_require__","p","PopupWithForm","_ref","welcomePopupOpened","children","react_default","a","createElement","className","Welcome","loginRef","React","useRef","passwordRef","_React$useState","useState","_React$useState2","Object","slicedToArray","setWelcomePopupOpened","_React$useState3","_React$useState4","loginButtonPressed","setLoginButtonPressed","_React$useState5","_React$useState6","initiateAnimation","setInitiateAnimation","closePopups","Fragment","src","react_router_dom","to","onClick","index_es","icon","faFacebookF","faVk","faYoutube","faInstagram","PopupWithForm_PopupWithForm","SovaLogo","ref","type","name","placeholder","id","data-type","Dashboard","Main","props","apiAdress","apiGetCurrentUser","token","fetch","concat","method","headers","Content-Type","Authorization","then","res","json","UserContext","createContext","App","_useState","_useState2","loggedIn","_useState3","_useState4","user","setuser","_useState5","_useState6","setCourses","useEffect","userToken","localStorage","getItem","fetchedUser","userFetched","fetchedCourses","coursesFetched","Promise","all","values","_values","userToSet","assign","coursesToSet","toConsumableArray","Provider","value","Welcome_Welcome","reportWebVitals","onPerfEntry","Function","e","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.015f4fa6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sova_logo_icon.4c1b845b.png\";","import React from \"react\";\r\nimport './PopupWithForm.css';\r\n\r\nexport default function PopupWithForm({ welcomePopupOpened, children }) {\r\n\r\n    return (\r\n        <section className={welcomePopupOpened ? \"popup popup_login popup_opened\" : \"popup popup_login\"}>\r\n            {children}\r\n        </section >\r\n        \r\n    //     <section className={welcomePopupOpened ? \"popup popup_login popup_opened\" : \"popup popup_login\"}>\r\n    //     <div className=\"popup__left-wrapper\">\r\n    //       <img className=\"popup__left-logo\" src={SovaLogo}></img>\r\n    //       <div>\r\n    //         <span className=\"popup__left-span\">SOVA STUDIO</span>\r\n    //         <p className=\"popup__left-p\">Заходи, присоединись к семье проессионалов, стань профессионалом</p>\r\n    //       </div>\r\n    //     </div>\r\n    //     <div className=\"popup__right-wrapper\">\r\n    //       <div className=\"popup__form-wrapper\">\r\n    //         <button className=\"popup__close\" onClick={closePopups}>Закрыть</button>\r\n    //         <h3 className=\"popup__headline\">Вход</h3>\r\n    //         <form className=\"popup__form\">\r\n    //             <input ref={loginRef} type=\"text\" className=\"popup__form-input\" name=\"email\" placeholder=\"почта\" />\r\n    //             <input ref={passwordRef} type=\"password\" className=\"popup__form-input\" name=\"password\" id=\"\" placeholder=\"пароль\" />\r\n    //             <button className=\"popup__form-button\" type=\"submit\" data-type=\"login\">Войти</button>\r\n    //         </form>\r\n    //       </div>\r\n    //     </div>\r\n    //   <div className=\"popup__overlay\">\r\n\r\n    //   </div>\r\n    // </section>\r\n    )\r\n}","import React from 'react';\r\n// import Main from './Main';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { Link } from 'react-router-dom';\r\nimport SovaLogo from '../images/sova_logo_icon.png';\r\nimport './Welcome.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faFacebookF, faVk, faYoutube, faInstagram } from '@fortawesome/free-brands-svg-icons';\r\n\r\nexport default function Welcome() {\r\n  \r\n  const loginRef = React.useRef();\r\n  const passwordRef = React.useRef();\r\n\r\n  const [welcomePopupOpened, setWelcomePopupOpened] = React.useState(false);\r\n  const [loginButtonPressed, setLoginButtonPressed] = React.useState(false);\r\n  const [initiateAnimation, setInitiateAnimation] = React.useState(0);\r\n\r\n  function openWelcomePopupLogin() {\r\n    // console.log('app is rendered');\r\n    setWelcomePopupOpened(true);\r\n    setLoginButtonPressed(true);\r\n  };\r\n\r\n  function openWelcomePopup() {\r\n    // console.log('app is rendered');\r\n    setWelcomePopupOpened(true);\r\n  };\r\n\r\n  function closePopups() {\r\n    setWelcomePopupOpened(false);\r\n    setLoginButtonPressed(false);\r\n    setInitiateAnimation(0);\r\n  };\r\n\r\n  function switchFormToRegsitration() {\r\n    setLoginButtonPressed(false);\r\n    setInitiateAnimation(1);\r\n  };\r\n\r\n  function switchFormToLogin() {\r\n    setLoginButtonPressed(true);\r\n    setInitiateAnimation(0);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <section className='welcome'>\r\n        <header className='welcome__header'>\r\n          <img className='welcome__header-logo' src='https://static.tildacdn.com/tild6665-6638-4561-b964-343330373834/sova_logo_icon____4.png'></img>\r\n          <nav className='welcome__header-nav'>\r\n            <ul className='welcome__header-nav-list'>\r\n              <li className='welcome__header-nav-list-element'><Link className='welcome__header-nav-list-element-link' to='/music'>Музыка</Link></li>\r\n              <li className='welcome__header-nav-list-element'><Link className='welcome__header-nav-list-element-link' to='/education'>Обучение</Link></li>\r\n              <li className='welcome__header-nav-list-element'><Link className='welcome__header-nav-list-element-link' to='courseplatform'>Платформа</Link></li>\r\n              <li className='welcome__header-nav-list-element'><Link className='welcome__header-nav-list-element-link' to='about'>Об Авторе</Link></li>\r\n              <li className='welcome__header-nav-list-element'><Link className='welcome__header-nav-list-element-link' to='contacts'>Контакты</Link></li>\r\n            </ul>\r\n          </nav>\r\n        </header>\r\n        {/* <div className='container'></div> */}\r\n        <div className='welcome__content'>\r\n          <h1>Здраааааааасте, тут можно стать вокальным экспертом</h1>\r\n          <p>Проходи курсы по вокалу от Саши Совы здесь, становись экспертом здесь, у себя, везде. А потом тренируй остальных, ибо ты уже эксперт(ка)</p>\r\n          <div className='welcome__content-buttons-wrapper'>\r\n            <button className=\"welcome__button header__button_login\" onClick={openWelcomePopupLogin} >Войти</button>\r\n            <button className=\"welcome__button header__button_register\" onClick={openWelcomePopup} >Зарегистрироваться</button>\r\n          </div>\r\n          <span className='welcome__span'>SASHA SOVA INC. BE STELLAR, SING STELLAR</span>\r\n        </div>\r\n        <footer className='welcome__footer'>\r\n          <nav className='welcome__footer-nav'>\r\n            <ul className='welcome__links-list'>\r\n              <li className='welcome__links-list-element'>\r\n                <button className='welcome__links-list-element-button'>\r\n                  <FontAwesomeIcon className='welcome__links-list-element-icon' icon={faFacebookF} />\r\n                </button>\r\n              </li>\r\n              <li className='welcome__links-list-element'>\r\n                <button className='welcome__links-list-element-button'>\r\n                  <FontAwesomeIcon className='welcome__links-list-element-icon' icon={faVk} />\r\n                </button>\r\n              </li>\r\n              <li className='welcome__links-list-element'>\r\n                <button className='welcome__links-list-element-button'>\r\n                  <FontAwesomeIcon className='welcome__links-list-element-icon' icon={faYoutube} />\r\n                </button>\r\n              </li>\r\n              <li className='welcome__links-list-element'>\r\n                <button className='welcome__links-list-element-button'>\r\n                  <FontAwesomeIcon className='welcome__links-list-element-icon' icon={faInstagram} />\r\n                </button>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n        </footer>\r\n        <div className='filter'></div>\r\n    </section>\r\n    <PopupWithForm welcomePopupOpened={welcomePopupOpened} closePopups={closePopups} loginButtonPressed={loginButtonPressed}>\r\n      <div className=\"popup__left-wrapper\" initiateAnimation={initiateAnimation}>\r\n        <img className=\"popup__left-logo\" src={SovaLogo}></img>\r\n        <div>\r\n          <span className=\"popup__left-span\">SOVA STUDIO</span>\r\n          <p className=\"popup__left-p\">Заходи, присоединись к семье проессионалов, стань профессионалом</p>\r\n          <button onClick={loginButtonPressed ? switchFormToRegsitration : switchFormToLogin}>{loginButtonPressed ? \"Нет учетной записи? Регистрируйся!\" : \"Уже присоединялся? Тогда входи!\"}</button>\r\n        </div>\r\n      </div>\r\n      <div className=\"popup__right-wrapper\">\r\n        <div className=\"popup__form-wrapper\">\r\n          <button className=\"popup__close\" onClick={closePopups}>Закрыть</button>\r\n          <h3 className=\"popup__headline\">{loginButtonPressed ? 'Вход' : 'Регистрация'}</h3>\r\n          <form className=\"popup__form\">\r\n            <input ref={loginRef} type=\"text\" className=\"popup__form-input\" name=\"email\" placeholder=\"почта\" />\r\n            <input ref={passwordRef} type=\"password\" className=\"popup__form-input\" name=\"password\" id=\"\" placeholder=\"пароль\" />\r\n            <button className=\"popup__form-button\" type=\"submit\" data-type=\"login\">Войти</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      <div className=\"popup__overlay\">\r\n\r\n      </div>\r\n    </PopupWithForm>\r\n    {/* <Login loginPopupOpened={loginPopupOpened} closePopups={closePopups}></Login> */}\r\n    {/* <Register registerPopupOpened={registerPopupOpened} closePopups={closePopups}></Register> */}\r\n    </>\r\n  )\r\n}","import React from \"react\";\r\n\r\nexport default function Dashboard() {\r\n  return (\r\n    <nav>\r\n      <ul>\r\n        <li>Главная</li>\r\n        <li>Обучение</li>\r\n        <li>Контакты</li>\r\n        <li>Профиль</li>\r\n      </ul>\r\n    </nav>\r\n  )\r\n}\r\n\r\n","import React from \"react\";\r\n// import Welcome from './Welcome';\r\n// import Navigation from './Navigation';\r\nimport Dashboard from \"./Dashboard\";\r\n\r\nexport default function Main(props) {\r\n  return (\r\n    <main>\r\n      {/* <Navigation openLoginPopup={props.openLoginPopup} openRegisterPopup={props.openRegisterPopup}></Navigation>\r\n      <Welcome></Welcome> */}\r\n      <Dashboard></Dashboard>\r\n    </main>\r\n  )\r\n}","//api variable\r\nconst apiAdress = 'http://localhost:3000';\r\n\r\n//api calls\r\nfunction apiLogin(formData) {\r\n  return fetch(`${apiAdress}/login`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(formData)\r\n    }\r\n  )\r\n  .then((res) => {\r\n    return res.json();\r\n  })\r\n}\r\n\r\nfunction apiRegister(formData) {\r\n  return fetch(`${apiAdress}/register`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(formData)\r\n  })\r\n  .then((res) => {\r\n    return res.json();\r\n  })\r\n}\r\n\r\nfunction apiGetCurrentUser(token) {\r\n  return fetch(`${apiAdress}/currentUser`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': token,\r\n    }\r\n  })\r\n  .then((res) => {\r\n    return res.json();\r\n  })\r\n\r\n}\r\n\r\nfunction apiGetCourses(token) {\r\n  return fetch(`${apiAdress}/coursesList`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': token,\r\n    }\r\n  })\r\n  .then((res) => {\r\n    return res.json();\r\n  })\r\n}\r\n\r\nfunction apiGetCourse(courseID, token) {\r\n  return fetch(`${apiAdress}/courses/${courseID}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': token,\r\n    }\r\n  })\r\n  .then((res) => {\r\n    return res.json();\r\n  })\r\n}\r\n\r\nfunction apiGetCourseModule(moduleID, token) {\r\n  return fetch(`${apiAdress}/modules/${moduleID}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': token,\r\n    }\r\n  })\r\n  .then((res) => {\r\n    return res.json();\r\n  })\r\n}\r\n\r\nfunction apiGetUserMessages(moduleID, token) {\r\n  return fetch(`${apiAdress}/modules/${moduleID}/messages`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': token,\r\n    }\r\n  })\r\n  .then((res) => {\r\n    return res.json();\r\n  })\r\n};\r\n\r\nfunction apiSendMessage(token, message) {\r\n  return fetch(`${apiAdress}/messages`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': token,\r\n    },\r\n    body: JSON.stringify(message),\r\n  })\r\n  .then((res) => {\r\n    return res.json();\r\n  })\r\n};\r\n\r\nexport {\r\n  apiLogin,\r\n  apiRegister,\r\n  apiGetCurrentUser,\r\n  apiGetCourses,\r\n  apiGetCourse,\r\n  apiGetCourseModule,\r\n  apiGetUserMessages,\r\n  apiSendMessage,\r\n}","import React from \"react\";\r\n\r\nconst user = {};\r\n\r\nexport const UserContext = React.createContext(user);\r\n\r\n","import './App.css';\r\nimport React, {useState, useEffect, useRef } from 'react';\r\nimport { Routes, Route, useNavigate } from 'react-router-dom';\r\nimport Welcome from './components/Welcome';\r\nimport Main from './components/Main';\r\nimport Login from './components/Login';\r\nimport Register from './components/Register';\r\nimport Courses from './components/Courses';\r\nimport CourseModule from './components/CourseModule';\r\nimport Chat from './components/Chat';\r\n\r\nimport { apiLogin, apiRegister, apiGetCurrentUser, apiGetCourses } from './api';\r\n\r\nimport { UserContext } from './context/userContext';\r\n\r\n\r\n\r\nfunction App() {\r\n  //variables\r\n  // const userRef = useRef({});\r\n\r\n  //state variables\r\n  \r\n  // const [registerPopupOpened, setregisterPopupOpened] = useState(false);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [user, setuser] = useState({});\r\n  const [courses, setCourses] = useState([]);\r\n\r\n  //useNavigate\r\n  // const navigate = useNavigate();\r\n  \r\n  //useEffect\r\n  useEffect(() => {\r\n    //localstorage manipulations\r\n    const userToken = localStorage.getItem('token');\r\n    const localsessionID = localStorage.getItem('sessionID');\r\n\r\n    if(userToken) {\r\n      const fetchedUser = apiGetCurrentUser(userToken)\r\n      .then((userFetched) => {\r\n        return userFetched;\r\n      });\r\n\r\n      const fetchedCourses = apiGetCourses(userToken)\r\n      .then((coursesFetched) => {\r\n        return coursesFetched;\r\n      });\r\n\r\n      Promise.all([fetchedUser, fetchedCourses]).then((values) => {\r\n\r\n        const [userFetched, coursesFetched] = values;\r\n\r\n        //set user\r\n        const userToSet = Object.assign({}, userFetched);\r\n        setuser(userToSet);\r\n\r\n        //set courses\r\n        const coursesToSet = [...coursesFetched];\r\n        \r\n        setCourses(coursesToSet);\r\n\r\n      });\r\n      \r\n    };\r\n\r\n  }, []);\r\n\r\n\r\n  //functions\r\n\r\n\r\n  function openRegisterPopup() {\r\n    // console.log('register opened');\r\n    // setregisterPopupOpened(true);\r\n  };\r\n\r\n  // function closePopups() {\r\n  //   setWelcomePopupOpened(false);\r\n  //   // setregisterPopupOpened(false);\r\n  // };\r\n\r\n  function navigationLoginFormSubmit(evt, formData) {\r\n    evt.preventDefault();\r\n    apiLogin(formData)\r\n    .then(({token}) => {\r\n      if(!token) {\r\n        return //process error\r\n      }\r\n      localStorage.setItem('token', token);\r\n      //get current user\r\n      return apiGetCurrentUser(token)\r\n      .then((userDoc) => {\r\n        setuser(userDoc);\r\n        // navigate('/courses')\r\n      })\r\n    })\r\n   \r\n  };\r\n\r\n  function navigationRegisterFormSubmit(evt, formData) {\r\n    evt.preventDefault();\r\n\r\n  }\r\n\r\n  function submitChatForm(evt) {\r\n    evt.preventDefault();\r\n    // console.log(evt.target);\r\n    // console.log(name, value);\r\n    //send message to APi\r\n    // socket\r\n  }\r\n\r\n  //test\r\n  function switchToLoggedInComponent() {\r\n    setLoggedIn(true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <UserContext.Provider value={user}>\r\n      {/* <Routes>\r\n        <Route path='courses/:courseID/modules/:moduleID' element={<CourseModule user={user} submitForm={submitChatForm}>\r\n          <Chat></Chat>\r\n        </CourseModule>}></Route>\r\n        <Route path='courses' element={<Courses user={user} courses={courses}></Courses>}></Route>\r\n        <Route path='/' element={<Main openLoginPopup={openLoginPopup} openRegisterPopup={openRegisterPopup}></Main>}></Route>\r\n      </Routes> */}\r\n      {/* <Login formSubmit={navigationLoginFormSubmit} isOpened={loginPopupOpened} closePopup={closePopups}></Login>\r\n      <Register formSubmit={navigationRegisterFormSubmit} isOpened={registerPopupOpened} closePopup={closePopups}></Register> */}\r\n      {loggedIn ? <Main></Main> : <Welcome></Welcome>}\r\n      </UserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n// import { socket, SocketContext } from './socketio/socketIO';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  // <React.StrictMode>\r\n    <BrowserRouter>\r\n      {/* <SocketContext.Provider value={socket}> */}\r\n        <App />\r\n      {/* </SocketContext.Provider> */}\r\n    </BrowserRouter>\r\n  // </React.StrictMode>\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}